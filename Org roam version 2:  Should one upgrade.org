#+title: ORG-ROAM VERSION 2:  Should one upgrade?
#+options: \n:t

Org-roam ver. 2 (or2) has been released.
Good news: more stable and feature rich, while being simpler in design.
Bad news: It is not backwards compatible with version 1 (or1).
This means that your previous tags and links will not work in or2. One must "migrate" to version 2. Installing it will not suffice--unless one has not used org-roam before.
This is frustrating, but the effort to migrate is worthwhile. (Is this not a frustration with all modern software? To be fair, Org-roam has not changed very often.)

MAJOR CHANGES
-------------
1. Each file now requires an ID:

:PROPERTIES:
:ID:       foo
:END:
#+title: Foo

The above is called a file node.

Headline nodes may also have IDs:

* Bar
:PROPERTIES:
:ID:       bar
:END:

Hence a "node" is any headline or top level file with an ID.

There is now no distinction between file-level notes and headings anymore. I.e. one can search for "content" not only "headings", which was the biggest limitation in or1.

Or1 used file links. But since paths change, they have moved to ID's. changes in paths do now no longer affect links, or give you dead links. With V2 all links are id based.

2. Tags used in or1 do not work in or2. One must:

Replace #+ROAM_KEY with ROAM_REF
Replace #+ROAM_ALIAS with ROAM_ALIASES
Move #+ROAM_TAGS into the #+FILETAGS property for file-level nodes, and the ROAM_TAGS property for headline nodes

3. Old links do not work in or2

One must replace existing file links with ID links.

Migration Wizard
----------------
The developers had provided a migration script.
THIS MIGRATION SCRIPT IS NOW DEPRECATED. M-x org-roam-migrate-wizard, FOUND WITHINOne must use THE ORG-ROAM REPO ITSELF.

The sample configuration has changed:

#+begin_src emacs-lisp
(use-package org-roam
      :ensure t
      :custom
      (org-roam-directory (file-truename "/path/to/org-files/"))
      :bind (("C-c n l" . org-roam-buffer-toggle)
             ("C-c n f" . org-roam-node-find)
             ("C-c n g" . org-roam-graph)
             ("C-c n i" . org-roam-node-insert)
             ("C-c n c" . org-roam-capture)
             ;; Dailies
             ("C-c n j" . org-roam-dailies-capture-today))
      :config
      (org-roam-setup)
      ;; If using org-roam-protocol
      (require 'org-roam-protocol))

(use-package org-roam
      :straight t
      :custom
      (org-roam-directory (file-truename "/path/to/org-files/"))
      :bind (("C-c n l" . org-roam-buffer-toggle)
             ("C-c n f" . org-roam-node-find)
             ("C-c n g" . org-roam-graph)
             ("C-c n i" . org-roam-node-insert)
             ("C-c n c" . org-roam-capture)
             ;; Dailies
             ("C-c n j" . org-roam-dailies-capture-today))
      :config
      (org-roam-setup)
      ;; If using org-roam-protocol
      (require 'org-roam-protocol))
#+end_src

Resources
---------
https://d12frosted.io/posts/2021-06-11-path-to-org-roam-v2.html#fn1
https://www.orgroam.com/manual.html

